<?php 

	/**
	 * 
	 */
	class controller_posts extends controller_controller
	{
		
		function __construct()
		{
			parent::__construct();
		}

		public function test()
		{
			echo "calling from controller posts <br>";
		}

		/**
		 * getters
		 */

		public function getall()
		{
			$this->db->query("SELECT * FROM ((malwares INNER JOIN users ON malwares.user = users.id_user) INNER JOIN categories ON malwares.category = categories.id_categ)");

			return $this->db->resultSet();
		}

		public function getbycateg($categ)
		{
			$this->db->query("SELECT * FROM ((malwares INNER JOIN users ON malwares.user = users.id_user) INNER JOIN categories ON malwares.category = categories.id_categ) WHERE mawlares.category = :categ");
			$this->db->bind(":categ", strip_tags($categ));

			return $this->db->resultSet();
		}

		public function getbyuser($id_user)
		{
			$this->db->query("SELECT * FROM ((malwares INNER JOIN users ON malwares.user = users.id_user) INNER JOIN categories ON malwares.category = categories.id_categ) WHERE malwares.user = :id");
			$this->db->bind(":id", strip_tags($id_user));

			return $this->db->resultSet();

		}

		/**
		 * setters
		 */

		public function addnew()
		{
			# code...
		}

		public function delete($id)
		{
			# code...
		}

	}

 ?>